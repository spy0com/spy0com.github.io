<!DOCTYPE html>
<html lang="">
  <head><meta name="generator" content="Hexo 3.8.0">
    
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">


<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">

<meta name="theme-color" content="#f8f5ec">
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">















  <link rel="alternate" href="/default" title="粗鄙之语">




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=2.10.1">



<link rel="canonical" href="http://blog.spy0.com/">



  <link rel="stylesheet" type="text/css" href="/lib/fancybox/jquery.fancybox.css">




  <link rel="stylesheet" type="text/css" href="/lib/nprogress/nprogress.min.css">



<link rel="stylesheet" type="text/css" href="/css/style.css?v=2.10.1">



  



  <script id="baidu_push">
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>









<script>
  window.config = {"leancloud":{"app_id":null,"app_key":null},"toc":true,"fancybox":true,"pjax":true};
</script>

    <title> 粗鄙之语 </title>
  </head>

  <body><div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/." class="logo">粗鄙之语</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>

<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    
      <a href="/">
        <li class="mobile-menu-item">
          
          
            首页
          
        </li>
      </a>
    
  </ul>
</nav>

    <div class="container" id="mobile-panel">
      <header id="header" class="header"><div class="logo-wrapper">
  <a href="/." class="logo">粗鄙之语</a>
</div>

<nav class="site-navbar">
  
    <ul id="menu" class="menu">
      
        <li class="menu-item">
          <a class="menu-item-link" href="/">
            
            
              首页
            
          </a>
        </li>
      
    </ul>
  
</nav>

      </header>

      <main id="main" class="main">
        <div class="content-wrapper">
          <div id="content" class="content">
            
  
  <section id="posts" class="posts">
    
      
        
  <article class="post">
    <header class="post-header">
      <h1 class="post-title">
        
          <a class="post-link" href="/2019/04/04/1554371808/">php扫后门</a>
        
      </h1>

      <div class="post-meta">
        <span class="post-time">
          2019-04-04
        </span>
        
        
      </div>
    </header>

    
    


    <div class="post-content">
      
        
        

        
          <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">        &lt;meta charset=&apos;gb2312&apos;&gt;</span><br><span class="line">        &lt;title&gt;PHP web shell scan&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line">&lt;/body&gt;</span><br><span class="line"></span><br><span class="line">&lt;?php </span><br><span class="line">define(&quot;SELF&quot;,php_self());	</span><br><span class="line">error_reporting(E_ERROR);</span><br><span class="line">ini_set(&apos;max_execution_time&apos;,20000);</span><br><span class="line">ini_set(&apos;memory_limit&apos;,&apos;512M&apos;);</span><br><span class="line">header(&quot;content-Type: text/html; charset=gb2312&quot;);</span><br><span class="line"></span><br><span class="line">function weevelyshell($file)&#123;</span><br><span class="line">        $content=file_get_contents($file);</span><br><span class="line">        if( </span><br><span class="line">        	(</span><br><span class="line">        	preg_match(&apos;#(\$\w&#123;2,4&#125;\s?=\s?str_replace\(&quot;\w+&quot;,&quot;&quot;,&quot;[\w_]+&quot;\);\s?)+#s&apos;,$content)&amp;&amp;</span><br><span class="line">            preg_match(&apos;#(\$\w&#123;2,4&#125;\s?=\s?&quot;[\w\d\+\/\=]+&quot;;\s?)+#&apos;,$content)&amp;&amp;                             preg_match(&apos;#\$[\w]&#123;2,4&#125;\s?=\s\$[\w]&#123;2,4&#125;\(\&apos;\&apos;,\s?\$\w&#123;2,4&#125;\(\$\w&#123;2,4&#125;\(&quot;\w&#123;1,4&#125;&quot;,\s?&quot;&quot;,\s?\$\w&#123;2,4&#125;\.\$\w&#123;2,4&#125;\.\$\w&#123;2,4&#125;\.\$\w&#123;2,4&#125;\)\)\);\s+?\$\w&#123;2,4&#125;\(\)\;#&apos;,$content))</span><br><span class="line">            	||</span><br><span class="line">            	(preg_match(&apos;#\$\w+\d\s?=\s?str_replace\(\&quot;[\w\d]+\&quot;,\&quot;\&quot;,\&quot;[\w\d]+\&quot;\);#s&apos;,$content)&amp;&amp;</span><br><span class="line">                preg_match(&apos;#\$\w+\s?=\s?\$[\w\d]+\(\&apos;\&apos;,\s?\$[\w\d]+\(\$\w+\(\$\w+\(\&quot;[[:punct:]]+\&quot;,\s?\&quot;\&quot;,\s?\$\w+\.\$\w+\.\$\w+\.\$\w+\)\)\)\);\s?\$\w+\(\);#s&apos;,$content))</span><br><span class="line">                )&#123;</span><br><span class="line">                return true;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function callbackshell($file)&#123;</span><br><span class="line">	$content=file_get_contents($file);</span><br><span class="line">	if(</span><br><span class="line">		preg_match(&apos;#\$\w+\s?=\s?\$_(?:GET|POST|REQUEST|COOKIE|SERVER)\[.*?\]#is&apos;,$content)&amp;&amp;</span><br><span class="line">		preg_match(&apos;#\$\w+\s?=\s?(?:new)?\s?array\w*\s?\(.*?_(?:GET|POST|REQUEST|COOKIE|SERVER)\[.*?\].*?\)+#is&apos;,$content)&amp;&amp;</span><br><span class="line">		preg_match(&apos;#(?:array_(?:reduce|map|udiff|walk|walk_recursive|filter)|u[ak]sort)\s?\(.*?\)+?#is&apos;,$content)</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">		)</span><br><span class="line">			return true;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function php_self()&#123;</span><br><span class="line">    $php_self=substr($_SERVER[&apos;PHP_SELF&apos;],strrpos($_SERVER[&apos;PHP_SELF&apos;],&apos;/&apos;)+1);</span><br><span class="line">    return $php_self;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">$matches = array(</span><br><span class="line">		&apos;/mb_ereg_replace\([\&apos;\*\s\,\.\&quot;]+\$_(?:GET|POST|REQUEST|COOKIE|SERVER)\[[\&apos;\&quot;].*?[\&apos;\&quot;][\]][\,\s\&apos;\&quot;]+e[\&apos;\&quot;]&apos;/is,</span><br><span class="line">		&apos;/preg_filter\([\&apos;\&quot;\|\.\*e]+.*\$_(?:GET|POST|REQUEST|COOKIE|SERVER)/is&apos;,</span><br><span class="line">		&apos;/create_function\s?\(.*assert\(/is&apos;,</span><br><span class="line">		&apos;/ini_get\(\&apos;safe_mode\&apos;\)/i&apos;,</span><br><span class="line">		&apos;/get_current_user\(.*?\)/i&apos;,</span><br><span class="line">		&apos;/@?assert\s?\(\$.*?\)/i&apos;,</span><br><span class="line">		&apos;/proc_open\s?\(.*?pipe\&apos;,\s?\&apos;w\&apos;\)/is&apos;,</span><br><span class="line">	&apos;/sTr_RepLaCe\s?\([\&apos;\&quot;].*?[\&apos;\&quot;],[\&apos;\&quot;].*?[\&apos;\&quot;]\s?,\s?\&apos;a[[:alnum:][:punct:]]+?s[[:alnum:][:punct:]]+?s[[:alnum:][:punct:]]+?e[[:alnum:][:punct:]]+?r[[:alnum:][:punct:]]+?t[[:alnum:][:punct:]]+?\)/i&apos;,</span><br><span class="line">		&apos;/preg_replace_callback\(.*?create_function\(/is&apos;,</span><br><span class="line">		&apos;/filter_var(?:_array)?\s?.*?\$_(?:GET|POST|REQUEST|COOKIE|SERVER)\[[\&apos;\&quot;][[:punct:][:alnum:]]+[\&apos;\&quot;]\][[:punct:][:alnum:][:space:]]+?assert[\&apos;\&quot;]\)/is&apos;,</span><br><span class="line">		&apos;/ob_start\([\&apos;\&quot;]+assert[\&apos;\&quot;]+\)/is&apos;,</span><br><span class="line">		&apos;/new\s?ReflectionFunction\(.*?-&gt;invoke\(/is&apos;,</span><br><span class="line">	    &apos;/PDO::FETCH_FUNC/&apos;,</span><br><span class="line">		&apos;/\$\w+.*\s?(?:=|-&gt;)\s?.*?[\&apos;\&quot;]assert[\&apos;\&quot;]\)?/i&apos;,</span><br><span class="line">		&apos;/\$\w+-&gt;(?:sqlite)?createFunction\(.*?\)/i&apos;,</span><br><span class="line">		&apos;/eval\([\&quot;\&apos;]?\\\?\$\w+\s?=\s?.*?\)/i&apos;,</span><br><span class="line">		&apos;/eval\(.*?gzinflate\(base64_decode\(/i&apos;,</span><br><span class="line">		&apos;/copy\(\$HTTP_POST_FILES\[\&apos;\w+\&apos;\]\s?\[\&apos;tmp_name\&apos;\]/i&apos;,</span><br><span class="line">		&apos;/register_(?:shutdown|tick)_function\s?\(\$\w+,\s\$_(?:GET|POST|REQUEST|COOKIE|SERVER)\[.*?\]\)/is&apos;,</span><br><span class="line">		&apos;/register_(?:shutdown|tick)_function\s?\(?[\&apos;\&quot;]assert[\&quot;\&apos;].*?\)/i&apos;,</span><br><span class="line">		&apos;/call_user_func.*?\([\&quot;|\&apos;]assert[\&quot;|\&apos;],.*\$_(?:GET|POST|REQUEST|COOKIE|SERVER)\[[\&apos;|\&quot;].*\]\)+/is&apos;,</span><br><span class="line">    	&apos;/preg_replace\(.*?e.*?\&apos;\s?,\s?.*?\w+\(.*?\)/i&apos;,</span><br><span class="line">        &apos;/function_exists\s*\(\s*[\&apos;|\&quot;](popen|exec|proc_open|system|passthru)+[\&apos;|\&quot;]\s*\)/i&apos;,</span><br><span class="line">        &apos;/(exec|shell_exec|system|passthru)+\s*\(\s*\$_(\w+)\[(.*)\]\s*\)/i&apos;,</span><br><span class="line">        &apos;/(exec|shell_exec|system|passthru)+\s*\(\$\w+\)/i&apos;,</span><br><span class="line">        &apos;/(exec|shell_exec|system|passthru)\s?\(\w+\(\&quot;http_.*\&quot;\)\)/i&apos;,</span><br><span class="line">  		&apos;/(?:john\.barker446@gmail\.com|xb5@hotmail\.com|shopen@aventgrup\.net|milw0rm\.com|www\.aventgrup\.net|mgeisler@mgeisler\.net)/i&apos;,</span><br><span class="line">    	&apos;/Php\s*?Shell/i&apos;,</span><br><span class="line">        &apos;/((udp|tcp)\:\/\/(.*)\;)+/i&apos;,</span><br><span class="line">        &apos;/preg_replace\s*\((.*)\/e(.*)\,\s*\$_(.*)\,(.*)\)/i&apos;,</span><br><span class="line">        &apos;/preg_replace\s*\((.*)\(base64_decode\(\$/i&apos;,</span><br><span class="line">        &apos;/(eval|assert|include|require|include_once|require_once)+\s*\(\s*(base64_decode|str_rot13|gz(\w+)|file_(\w+)_contents|(.*)php\:\/\/input)+/i&apos;,</span><br><span class="line">        &apos;/(eval|assert|include|require|include_once|require_once|array_map|array_walk)+\s*\(.*?\$_(?:GET|POST|REQUEST|COOKIE|SERVER|SESSION)+\[(.*)\]\s*\)/i&apos;,</span><br><span class="line">        &apos;/eval\s*\(\s*\(\s*\$\$(\w+)/i&apos;,</span><br><span class="line">    	&apos;/((?:include|require|include_once|require_once)+\s*\(?\s*[\&apos;|\&quot;]\w+\.(?!php).*[\&apos;|\&quot;])/i&apos;,</span><br><span class="line">        &apos;/\$_(\w+)(.*)(eval|assert|include|require|include_once|require_once)+\s*\(\s*\$(\w+)\s*\)/i&apos;,</span><br><span class="line">        &apos;/\(\s*\$_FILES\[(.*)\]\[(.*)\]\s*\,\s*\$_(GET|POST|REQUEST|FILES)+\[(.*)\]\[(.*)\]\s*\)/i&apos;,</span><br><span class="line">        &apos;/(fopen|fwrite|fputs|file_put_contents)+\s*\((.*)\$_(GET|POST|REQUEST|COOKIE|SERVER)+\[(.*)\](.*)\)/i&apos;,</span><br><span class="line">        &apos;/echo\s*curl_exec\s*\(\s*\$(\w+)\s*\)/i&apos;,</span><br><span class="line">        &apos;/new com\s*\(\s*[\&apos;|\&quot;]shell(.*)[\&apos;|\&quot;]\s*\)/i&apos;,</span><br><span class="line">        &apos;/\$(.*)\s*\((.*)\/e(.*)\,\s*\$_(.*)\,(.*)\)/i&apos;,</span><br><span class="line">        &apos;/\$_\=(.*)\$_/i&apos;,</span><br><span class="line">        &apos;/\$_(GET|POST|REQUEST|COOKIE|SERVER)+\[(.*)\]\(\s*\$(.*)\)/i&apos;,</span><br><span class="line">        &apos;/\$(\w+)\s*\(\s*\$_(GET|POST|REQUEST|COOKIE|SERVER)+\[(.*)\]\s*\)/i&apos;,</span><br><span class="line">        &apos;/\$(\w+)\s*\(\s*\$\&#123;(.*)\&#125;/i&apos;,</span><br><span class="line">        &apos;/\$(\w+)\s*\(\s*chr\(\d+\)/i&apos;</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">function antivirus($dir,$exs,$matches) &#123;</span><br><span class="line">        if(($handle = @opendir($dir)) == NULL) return false;</span><br><span class="line">        while(false !== ($name = readdir($handle))) &#123;</span><br><span class="line">                if($name == &apos;.&apos; || $name == &apos;..&apos;) continue;</span><br><span class="line">                $path = $dir.$name;</span><br><span class="line">                if(strstr($name,SELF)) continue;</span><br><span class="line">                //$path=iconv(&quot;UTF-8&quot;,&quot;gb2312&quot;,$path);</span><br><span class="line">                if(is_dir($path)) &#123;</span><br><span class="line">                        //chmod($path,0777);/*主要针对一些0111的目录*/</span><br><span class="line">                        if(is_readable($path)) antivirus($path.&apos;/&apos;,$exs,$matches);</span><br><span class="line">                &#125; elseif(strpos($name,&apos;;&apos;) &gt; -1 || strpos($name,&apos;%00&apos;) &gt; -1 || strpos($name,&apos;/&apos;) &gt; -1) &#123;</span><br><span class="line">                        echo &apos;特征 &lt;input type=&quot;text&quot; style=&quot;width:250px;&quot; value=&quot;解析漏洞&quot;&gt; 	&apos;.$path.&apos;&lt;div&gt;&lt;/div&gt;&apos;; flush(); ob_flush();</span><br><span class="line">                &#125; </span><br><span class="line">                else &#123;</span><br><span class="line">                        if(!preg_match($exs,$name)) continue;</span><br><span class="line">                        if(filesize($path) &gt; 10000000) continue;</span><br><span class="line">                        $fp = fopen($path,&apos;r&apos;);</span><br><span class="line">                        $code = fread($fp,filesize($path));</span><br><span class="line">                        fclose($fp);</span><br><span class="line">                        if(empty($code)) continue;                     </span><br><span class="line">                        if(weevelyshell($path))&#123;</span><br><span class="line">                        echo &apos;特征 &lt;input type=&quot;text&quot; style=&quot;width:250px;&quot; value=&quot;weevely 加密shell&quot;&gt; 	&apos;.$path.&apos;&lt;div&gt;&lt;/div&gt;&apos;; flush(); ob_flush();</span><br><span class="line"></span><br><span class="line">                &#125;elseif(callbackshell($path))&#123;</span><br><span class="line">                		echo &apos;特征 &lt;input type=&quot;text&quot; style=&quot;width:250px;&quot; value=&quot;Callback shell&quot;&gt; 	&apos;.$path.&apos;&lt;div&gt;&lt;/div&gt;&apos;; flush(); ob_flush();</span><br><span class="line">                &#125;</span><br><span class="line">                        foreach($matches as $matche) &#123;</span><br><span class="line">                                $array = array();</span><br><span class="line">                                preg_match($matche,$code,$array);</span><br><span class="line">                                if(!$array) continue;</span><br><span class="line">                                if(strpos($array[0],&quot;\x24\x74\x68\x69\x73\x2d\x3e&quot;)) continue;</span><br><span class="line">                                $len = strlen($array[0]);</span><br><span class="line">                                if($len &gt; 6 &amp;&amp; $len &lt; 200) &#123;</span><br><span class="line">                                        echo &apos;特征 &lt;input type=&quot;text&quot; style=&quot;width:250px;&quot; value=&quot;&apos;.htmlspecialchars($array[0]).&apos;&quot;&gt;	&apos;.$path.&apos;&lt;div&gt;&lt;/div&gt;&apos;;</span><br><span class="line">                                        flush(); ob_flush(); break;</span><br><span class="line">                                &#125;</span><br><span class="line">                        &#125;</span><br><span class="line">                        unset($code,$array);</span><br><span class="line">                &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        closedir($handle);</span><br><span class="line">        return true;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function strdir($str) &#123; return str_replace(array(&apos;\\&apos;,&apos;//&apos;,&apos;//&apos;),array(&apos;/&apos;,&apos;/&apos;,&apos;/&apos;),chop($str)); &#125;</span><br><span class="line"></span><br><span class="line">echo &apos;&lt;form method=&quot;POST&quot;&gt;&apos;;</span><br><span class="line">echo &apos;路径: &lt;input type=&quot;text&quot; name=&quot;dir&quot; value=&quot;&apos;.($_POST[&apos;dir&apos;] ? strdir($_POST[&apos;dir&apos;].&apos;/&apos;) : strdir($_SERVER[&apos;DOCUMENT_ROOT&apos;].&apos;/&apos;)).&apos;&quot; style=&quot;width:398px;&quot;&gt;&lt;div&gt;&lt;/div&gt;&apos;;</span><br><span class="line">echo &apos;后缀: &lt;input type=&quot;text&quot; name=&quot;exs&quot; value=&quot;&apos;.($_POST[&apos;exs&apos;] ? $_POST[&apos;exs&apos;] : &apos;.php|.inc|.phtml&apos;).&apos;&quot; style=&quot;width:398px;&quot;&gt;&lt;div&gt;&lt;/div&gt;&apos;;</span><br><span class="line">echo &apos;操作: &lt;input type=&quot;submit&quot; style=&quot;width:80px;&quot; value=&quot;scan&quot;&gt;&lt;div&gt;&lt;/div&gt;&apos;;</span><br><span class="line">echo &apos;&lt;/form&gt;&apos;;</span><br><span class="line"></span><br><span class="line">if(file_exists($_POST[&apos;dir&apos;]) &amp;&amp; $_POST[&apos;exs&apos;]) &#123;</span><br><span class="line">        $dir = strdir($_POST[&apos;dir&apos;].&apos;/&apos;);</span><br><span class="line">        $exs = &apos;/(&apos;.str_replace(&apos;.&apos;,&apos;\\.&apos;,$_POST[&apos;exs&apos;]).&apos;)/i&apos;;</span><br><span class="line">        echo antivirus($dir,$exs,$matches) ? &apos;&lt;/br &gt;&lt;div&gt;&lt;/div&gt;扫描完毕!&apos; : &apos;&lt;/br &gt; &lt;div&gt;&lt;/div&gt;扫描中断&apos;;</span><br><span class="line">&#125;</span><br><span class="line">?&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
        
      
    </div>

    

    

  </article>

      
        
  <article class="post">
    <header class="post-header">
      <h1 class="post-title">
        
          <a class="post-link" href="/2019/01/12/1547255329/">来看看移动的最新套餐吧，以后应该是主推套餐</a>
        
      </h1>

      <div class="post-meta">
        <span class="post-time">
          2019-01-12
        </span>
        
        
      </div>
    </header>

    
    


    <div class="post-content">
      
        
        

        
          <p><img src="https://blog.spy0.com/img/20190112125145.png" alt="avatar"></p>

        
      
    </div>

    

    

  </article>

      
        
  <article class="post">
    <header class="post-header">
      <h1 class="post-title">
        
          <a class="post-link" href="/2019/01/10/1547119319/">linux怎么使用ssr</a>
        
      </h1>

      <div class="post-meta">
        <span class="post-time">
          2019-01-10
        </span>
        
        
      </div>
    </header>

    
    


    <div class="post-content">
      
        
        

        
          <h2 id="下载-配置"><a href="#下载-配置" class="headerlink" title="下载/配置"></a>下载/配置</h2><p><code>git clone -b manyuser https://github.com/shadowsocksr-rm/shadowsocksr.git ssr</code></p>
<p>进入ssr目录，删除user-config.json文件，并修改config.json文件。请复制以下信息并替换，GitHub上提供的文件引号有问题。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">    &quot;server&quot;: &quot;服务器地址&quot;,</span><br><span class="line">    &quot;server_ipv6&quot;: &quot;服务器地址&quot;,</span><br><span class="line">    &quot;server_port&quot;: 端口号,</span><br><span class="line">    &quot;local_address&quot;: &quot;127.0.0.1&quot;,</span><br><span class="line">    &quot;local_port&quot;: 1080,</span><br><span class="line">    &quot;password&quot;: &quot;ss密码&quot;,</span><br><span class="line">    &quot;timeout&quot;: 300,</span><br><span class="line">    &quot;udp_timeout&quot;: 60,</span><br><span class="line">    &quot;method&quot;: &quot;加密方式&quot;,</span><br><span class="line">    &quot;protocol&quot;: &quot;协议&quot;,</span><br><span class="line">    &quot;obfs&quot;: &quot;混淆&quot;,</span><br><span class="line">    &quot;obfs_param&quot;: &quot;混淆参数&quot;,</span><br><span class="line">    &quot;dns_ipv6&quot;: false,</span><br><span class="line">    &quot;connect_verbose_info&quot;: 1,</span><br><span class="line">    &quot;redirect&quot;: &quot;&quot;,</span><br><span class="line">    &quot;fast_open&quot;: true</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="使用："><a href="#使用：" class="headerlink" title="使用："></a>使用：</h2><p>进入shadowsocks文件下执行local.py</p>
<p><code>python local.py</code></p>
<p>然后打开浏览器配置浏览器的socks5设置，服务器127.0.0.1 端口1080 即可开始常有网络</p>

        
      
    </div>

    

    

  </article>

      
        
  <article class="post">
    <header class="post-header">
      <h1 class="post-title">
        
          <a class="post-link" href="/2019/01/04/某宝几元特便宜的SSL证书怎么来的？/">某宝几元特便宜的SSL证书怎么来的？</a>
        
      </h1>

      <div class="post-meta">
        <span class="post-time">
          2019-01-04
        </span>
        
        
      </div>
    </header>

    
    


    <div class="post-content">
      
        
        

        
          <p>首先要知道为什么可以卖的这么便宜？很简单，因为免费啊！hahahahahha</p>
<h2 id="接下来开始折腾"><a href="#接下来开始折腾" class="headerlink" title="接下来开始折腾"></a>接下来开始折腾</h2><blockquote>
<p>这个项目Let’s Encrypt就是提供一个期限为九十天的SSL(九十天一续费即可，续费免费)</p>
</blockquote>
<h3 id="下载并生成证书"><a href="#下载并生成证书" class="headerlink" title="下载并生成证书"></a>下载并生成证书</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/letsencrypt/letsencrypt</span><br><span class="line">cd letsencrypt</span><br><span class="line">./certbot-auto --help all</span><br><span class="line">./certbot-auto certonly --standalone --email user@domain.com -d domain.com -d www.domain.com</span><br><span class="line"> </span><br><span class="line">生成后的证书在 /etc/letsencrypt/live/ 目录下。</span><br><span class="line">cert.pem  - Apache服务器端证书</span><br><span class="line">chain.pem  - Apache根证书和中继证书</span><br><span class="line">fullchain.pem  - Nginx所需要ssl_certificate文件</span><br><span class="line">privkey.pem - 安全证书KEY文件</span><br></pre></td></tr></table></figure>
<h3 id="每90天更新一次即续费"><a href="#每90天更新一次即续费" class="headerlink" title="每90天更新一次即续费"></a>每90天更新一次即续费</h3><p><code>./certbot-auto certonly --renew-by-default --email user@domain.com -d domain.com -d www.domain.com</code><br>如果怕忘记可以设置定时任务</p>

        
      
    </div>

    

    

  </article>

      
        
  <article class="post">
    <header class="post-header">
      <h1 class="post-title">
        
          <a class="post-link" href="/2018/12/28/1545982580/">测试加密文章，密码test</a>
        
      </h1>

      <div class="post-meta">
        <span class="post-time">
          2018-12-28
        </span>
        
        
      </div>
    </header>

    
    


    <div class="post-content">
      
        
        
          
        

        
          The article has been encrypted, please enter your password to view.<br>
          <div class="read-more">
            <a href="/2018/12/28/1545982580/" class="read-more-link">阅读更多</a>
          </div>
        
      
    </div>

    

    

  </article>

      
        
  <article class="post">
    <header class="post-header">
      <h1 class="post-title">
        
          <a class="post-link" href="/2018/12/28/全日制专本、成人高考、网络教育、自学考试毕业证编号格式/">全日制专本、成人高考、网络教育、自学考试毕业证编号格式</a>
        
      </h1>

      <div class="post-meta">
        <span class="post-time">
          2018-12-28
        </span>
        
        
      </div>
    </header>

    
    


    <div class="post-content">
      
        
        

        
          <p>&#x529E;&#x5B66;&#x7C7B;&#x578B;&#x4EE3;&#x7801;&#xFF1A;<br>&#x666E;&#x901A;&#x9AD8;&#x7B49;&#x6559;&#x80B2;1<br>&#x6210;&#x4EBA;&#x9AD8;&#x8003;5<br>&#x81EA;&#x5B66;&#x8003;&#x8BD5;6<br>&#x7F51;&#x7EDC;&#x6559;&#x80B2;7<br>&#x5F00;&#x653E;&#x6559;&#x80B2;(&#x7535;&#x5927;)8</p>
<p>&#x57F9;&#x517B;&#x5C42;&#x6B21;&#x4EE3;&#x7801;&#xFF1A;<br>&#x535A;&#x58EB;&#x7814;&#x7A76;&#x751F;01<br>&#x7855;&#x58EB;&#x7814;&#x7A76;&#x751F;02<br>&#x7B2C;&#x4E8C;&#x5B66;&#x58EB;&#x5B66;&#x4F4D;04<br>&#x672C;&#x79D1;05<br><a href="#&#x4E13;&#x79D1;06" title="&#x4E13;&#x79D1;06"></a>&#x4E13;&#x79D1;06</p>
<p>&#x5168;&#x65E5;&#x5236;&#x4E13;&#x672C;&#x3001;&#x6210;&#x4EBA;&#x9AD8;&#x8003;&#x3001;&#x7F51;&#x7EDC;&#x6559;&#x80B2;&#x3001;&#x6BD5;&#xFF08;&#x7ED3;&#xFF09;&#x4E1A;&#x8BC1;&#x4E66;&#x7F16;&#x53F7;&#xFF0C;&#x4F7F;&#x7528;&#x963F;&#x62C9;&#x4F2F;&#x6570;&#x5B57;&#xFF0C;&#x7EDF;&#x4E00;&#x89C4;&#x8303;&#x4E3A;18&#x4F4D;&#x3002;</p>
<p>&#x524D;5&#x4F4D;&#x4E3A;&#x5B66;&#x6821;&#x6216;&#x5176;&#x4ED6;&#x6559;&#x80B2;&#x673A;&#x6784;&#x7684;&#x56FD;&#x6807;&#x4EE3;&#x7801;<br>&#x7B2C;6&#x4F4D;&#x4E3A;&#x529E;&#x5B66;&#x7C7B;&#x578B;&#x4EE3;&#x7801;<br>&#x7B2C;7&#x81F3;10&#x4F4D;&#x4E3A;&#x5E74;&#x4EFD;<br>&#x7B2C;11&#x81F3;12&#x4F4D;&#x4E3A;&#x57F9;&#x517B;&#x5C42;&#x6B21;&#x4EE3;&#x7801;<br>&#x7B2C;13&#x4F4D;&#x81F3;18&#x4F4D;&#x4E3A;&#x5B66;&#x6821;&#x5BF9;&#x6BD5;&#xFF08;&#x7ED3;&#xFF09;&#x4E1A;&#x8BC1;&#x4E66;&#x7F16;&#x6392;&#x7684;&#x5E8F;&#x53F7;</p>
<p>&#x6848;&#x4F8B;&#xFF1A;100017201705xxxxxx<br>&#x62C6;&#x89E3;:10001 7 2017 05 xxxxxx</p>
<h2 id="x89E3-x6790-x5317-x5927-x7F51-x6559-2017-x5E74-x6BD5-x4E1A-x672C-x79D1-x5B66-x6821-x6BD5-x4E1A-x7F16-x53F7"><a href="#x89E3-x6790-x5317-x5927-x7F51-x6559-2017-x5E74-x6BD5-x4E1A-x672C-x79D1-x5B66-x6821-x6BD5-x4E1A-x7F16-x53F7" class="headerlink" title="&#x89E3;&#x6790;:&#x5317;&#x5927;  &#x7F51;&#x6559; 2017&#x5E74;&#x6BD5;&#x4E1A; &#x672C;&#x79D1; &#x5B66;&#x6821;&#x6BD5;&#x4E1A;&#x7F16;&#x53F7;"></a><a href="#&#x89E3;&#x6790;-&#x5317;&#x5927;-&#x7F51;&#x6559;-2017&#x5E74;&#x6BD5;&#x4E1A;-&#x672C;&#x79D1;-&#x5B66;&#x6821;&#x6BD5;&#x4E1A;&#x7F16;&#x53F7;" title="&#x89E3;&#x6790;:&#x5317;&#x5927;  &#x7F51;&#x6559; 2017&#x5E74;&#x6BD5;&#x4E1A; &#x672C;&#x79D1; &#x5B66;&#x6821;&#x6BD5;&#x4E1A;&#x7F16;&#x53F7;"></a>&#x89E3;&#x6790;:&#x5317;&#x5927;  &#x7F51;&#x6559; 2017&#x5E74;&#x6BD5;&#x4E1A; &#x672C;&#x79D1; &#x5B66;&#x6821;&#x6BD5;&#x4E1A;&#x7F16;&#x53F7;</h2><p>&#x81EA;&#x5B66;&#x8003;&#x8BD5;&#x6BD5;&#x4E1A;&#x8BC1;&#x4E66;&#x7F16;&#x53F7;&#xFF0C;&#x4F7F;&#x7528;&#x963F;&#x62C9;&#x4F2F;&#x6570;&#x5B57;&#xFF0C;&#x7EDF;&#x4E00;&#x89C4;&#x8303;&#x4E3A;17&#x4F4D;&#xFF0C;&#x7531;&#x5404;&#x7701;&#xFF08;&#x81EA;&#x6CBB;&#x533A;&#x3001;&#x76F4;&#x8F96;&#x5E02;&#xFF09;&#x9AD8;&#x7B49;&#x6559;&#x80B2;&#x81EA;&#x5B66;&#x8003;&#x8BD5;&#x59D4;&#x5458;&#x4F1A;&#x6309;&#x4EE5;&#x4E0B;&#x987A;&#x5E8F;&#x7F16;&#x6392;&#x3002;</p>
<p>&#x7B2C;1&#x4F4D;&#x4E3A;&#x529E;&#x5B66;&#x7C7B;&#x578B;&#x4EE3;&#x7801;<br>&#x7B2C;2&#x4F4D;&#x4E3A;&#x57F9;&#x517B;&#x5C42;&#x6B21;&#x4EE3;&#x7801;<br>&#x7B2C;3&#x3001;4&#x4F4D;&#x4E3A;&#x7701;&#xFF08;&#x81EA;&#x6CBB;&#x533A;&#x3001;&#x76F4;&#x8F96;&#x5E02;&#xFF09;&#x56FD;&#x6807;&#x4EE3;&#x7801;<br>&#x7B2C;5&#x3001;6&#x4F4D;&#x4E3A;&#x5730;&#xFF08;&#x5E02;&#xFF09;&#x56FD;&#x6807;&#x4EE3;&#x7801;<br>&#x7B2C;7&#x3001;8&#x4F4D;&#x4E3A;&#x53BF;&#xFF08;&#x533A;&#xFF09;&#x56FD;&#x6807;&#x4EE3;&#x7801;<br>&#x7B2C;9&#x3001;10&#x4F4D;&#x4E3A;&#x5E74;&#x5EA6;&#x4EE3;&#x7801;<br>&#x7B2C;11&#x4F4D;&#x4E3A;&#x4E0A;&#x3001;&#x4E0B;&#x534A;&#x5E74;&#x8003;&#x8BD5;&#x8003;&#x6B21;&#x4EE3;&#x7801;<br>&#x7B2C;12&#x81F3;16&#x4F4D;&#x4E3A;&#x51C6;&#x8003;&#x8BC1;&#x5E8F;&#x53F7;&#x4EE3;&#x7801;<br>&#x7B2C;17&#x4F4D;&#x4E3A;&#x6821;&#x9A8C;&#x4EE3;&#x7801;</p>
<p>&#x6848;&#x4F8B;&#xFF1A;66420198142xxxxx4<br>&#x62C6;&#x89E3;&#xFF1A;6 6 420198 14 2 xxxxx 4<br>&#x89E3;&#x6790;&#xFF1A;&#x81EA;&#x8003; &#x4E13;&#x79D1; &#x6E56;&#x5317;&#x6B66;&#x6C49;&#x6C49;&#x5357;&#x533A; 14&#x5E74;&#x5F00;&#x59CB;&#x8003;&#x8BD5; &#x573A;&#x6B21;&#x4EE3;&#x7801; &#x51C6;&#x8003;&#x5E8F;&#x53F7; &#x6821;&#x9A8C;&#x7801;</p>

        
      
    </div>

    

    

  </article>

      
        
  <article class="post">
    <header class="post-header">
      <h1 class="post-title">
        
          <a class="post-link" href="/2018/12/28/ShadowsocksR 多用户版服务端(后端)安装/">ShadowsocksR 多用户版服务端(后端)安装</a>
        
      </h1>

      <div class="post-meta">
        <span class="post-time">
          2018-12-28
        </span>
        
        
      </div>
    </header>

    
    


    <div class="post-content">
      
        
        

        
          <p>Centos</p>
<pre class="brush:bash;toolbar:false">yum&#xA0;install&#xA0;-y&#xA0;python-setuptools&#xA0;&#xA0;&amp;&amp;&#xA0;easy_install&#xA0;pip&#xA0;&amp;&amp;&#xA0;pip&#xA0;install&#xA0;cymysql
&#x6216;&#x8005;&#xFF1A;
yum&#xA0;install&#xA0;python-setuptools&#xA0;-y
wget&#xA0;https://pypi.python.org/packages/source/p/pip/pip-9.0.1.tar.gz&#xA0;--no-check-certificate
tar&#xA0;-xzvf&#xA0;pip-9.0.1.tar.gz
cd&#xA0;pip-9.0.1
python&#xA0;setup.py&#xA0;install
pip&#xA0;install&#xA0;cymysql==0.9.4
yum&#xA0;install&#xA0;git&#xA0;-y</pre>

<p>Ubuntu/Debian</p>
<pre class="brush:bash;toolbar:false">apt-get&#xA0;update
apt-get&#xA0;install&#xA0;python-pip&#xA0;git&#xA0;-y
pip&#xA0;install&#xA0;cymysql</pre>

<p>&#x4E0B;&#x8F7D;&#x540E;&#x7AEF;&#x6E90;&#x4EE3;&#x7801;&#xFF0C;&#x4F60;&#x8FD8;&#x53EF;&#x4EE5;&#x7528;&#x522B;&#x4EBA;&#x4FEE;&#x6539;&#x7684;</p>
<pre class="brush:bash;toolbar:false">git&#xA0;clone&#xA0;-b&#xA0;manyuser&#xA0;https://github.com/spy0com/shadowsocksr.git</pre>

<p>&#x8FD9;&#x5C31;&#x5B89;&#x88C5;&#x5B8C;&#x6BD5;&#xFF0C;&#x63A5;&#x4E0B;&#x6765;&#x5C31;&#x662F;&#x914D;&#x7F6E;&#x4E86;</p>
<pre class="brush:bash;toolbar:false">cd&#xA0;shadowsocksr
cp&#xA0;mysql.json&#xA0;usermysql.json
vi&#xA0;usermysql.json&#xA0;/&#x4FEE;&#x6539;&#x53C2;&#x6570;&#x5BF9;&#x63A5;&#x524D;&#x7AEF;&#x6570;&#x636E;&#x5E93;</pre>

<p>&quot;host&quot;: &quot;127.0.0.1&quot;, //&#x524D;&#x7AEF;mysqlIP</p>
<p>&quot;port&quot;: 3306, //mysql&#x7AEF;&#x53E3;</p>
<p>&quot;user&quot;: &quot;ss&quot;, //mysql&#x7528;&#x6237;&#x540D;</p>
<p>&quot;password&quot;: &quot;passws&quot;, //mysql&#x5BC6;&#x7801;</p>
<p>&quot;db&quot;: &quot;ss&quot;, //&#x6570;&#x636E;&#x5E93;&#x540D;</p>
<p>&#x4FEE;&#x6539;&#x52A0;&#x5BC6;&#x534F;&#x8BAE;&#x7B49;</p>
<pre class="brush:bash;toolbar:false">cp&#xA0;config.json&#xA0;user-config.json
vi&#xA0;user-config.json</pre>

<p>&quot;method&quot;:&quot;aes-256-cfb&quot;, //&#x4FEE;&#x6539;&#x6210;&#x60A8;&#x8981;&#x7684;&#x52A0;&#x5BC6;&#x65B9;&#x5F0F;&#x7684;&#x540D;&#x79F0;</p>
<p>&quot;protocol&quot;: &quot;auth_sha1_compatible&quot;, //&#x4FEE;&#x6539;&#x6210;&#x60A8;&#x8981;&#x7684;&#x534F;&#x8BAE;&#x63D2;&#x4EF6;&#x540D;&#x79F0;</p>
<p>&quot;obfs&quot;: &quot;tls1.0_session_auth_compatible&quot;, //&#x4FEE;&#x6539;&#x6210;&#x60A8;&#x8981;&#x7684;&#x6DF7;&#x6DC6;&#x63D2;&#x4EF6;&#x540D;&#x79F0;</p>
<p>&#x811A;&#x672C;&#x8FD0;&#x884C;</p>
<pre class="brush:bash;toolbar:false">chmod&#xA0;+x&#xA0;*.sh&#xA0;/&#x8FDB;&#x5165;&#x811A;&#x672C;&#x76EE;&#x5F55;&#x7ED9;&#x6743;&#x9650;
python&#xA0;server.py&#xA0;/&#x4EC5;&#x7528;&#x4E8E;&#x8C03;&#x8BD5;&#xFF0C;&#x9000;&#x51FA;ssh&#x4E5F;&#x4F1A;&#x9000;&#x51FA;&#x8FD0;&#x884C;
./run.sh&#xA0;/&#x540E;&#x53F0;&#x8FD0;&#x884C;&#xA0;&#x4F46;&#x4E0D;&#x8BB0;&#x5F55;&#x65E5;&#x5FD7;&#xFF08;ssh&#x7A97;&#x53E3;&#x5173;&#x95ED;&#x540E;&#x4E5F;&#x7EE7;&#x7EED;&#x8FD0;&#x884C;&#xFF09;
./logrun.sh&#xA0;/&#x540E;&#x53F0;&#x8FD0;&#x884C;&#xA0;&#x4E14;&#xA0;&#x8BB0;&#x5F55;&#x65E5;&#x5FD7;&#xFF08;ssh&#x7A97;&#x53E3;&#x5173;&#x95ED;&#x540E;&#x4E5F;&#x7EE7;&#x7EED;&#x8FD0;&#x884C;&#xFF09;
./tail.sh&#xA0;/&#x67E5;&#x770B;&#xA0;SS&#x65E5;&#x5FD7;
./stop.sh&#xA0;/&#x505C;&#x6B62;&#x8FD0;&#x884C;</pre>

<p>&#x66F4;&#x65B0;&#x5347;&#x7EA7;</p>
<p>&#x8FDB;&#x5165;shadowsocksr&#x76EE;&#x5F55;</p>
<p>cd shadowsocksr /&#x6267;&#x884C;</p>
<p>git pull /&#x6210;&#x529F;&#x540E;&#x91CD;&#x542F;ss&#x670D;&#x52A1;</p>
<p>&#x5E38;&#x89C1;&#x9519;&#x8BEF;</p>
<p>&#x8C03;&#x8BD5;&#x65E0;&#x6CD5;&#x8FDE;&#x63A5;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x8FD9;&#x79CD;&#x591A;&#x662F;&#x6570;&#x636E;&#x5E93;&#x7528;&#x6237;&#x6CA1;&#x6709;&#x7ED9;&#x8FDE;&#x63A5;&#x6743;&#x9650;&#xFF0C;&#x8FD9;&#x79CD;&#x89E3;&#x51B3;&#x53EA;&#x9700;&#x8981;&#x5728;&#x6570;&#x636E;&#x5E93;&#x7528;&#x6237;&#x6743;&#x9650;&#x4E2D;&#x7684;HOST&#x9879;&#x6539;&#x4E3A; &#x4EFB;&#x610F;&#x4E3B;&#x673A; - % &#x5373;&#x53EF;</p>
<p>&#x8FD8;&#x6709;&#x53EF;&#x80FD;&#x662F;&#x9632;&#x706B;&#x5899;&#x6CA1;&#x6709;&#x5F00;&#x653E;3306&#x7AEF;&#x53E3;&#xFF0C;&#x6267;&#x884C;&#xFF1A;</p>
<pre class="brush:bash;toolbar:false">/sbin/iptables&#xA0;-I&#xA0;INPUT&#xA0;-p&#xA0;tcp&#xA0;--dport&#xA0;3306&#xA0;-j&#xA0;ACCEPT&#xA0;&#xA0;&#xA0;&#x5199;&#x5165;&#x4FEE;&#x6539;
/etc/init.d/iptables&#xA0;save&#xA0;&#xA0;&#xA0;&#x4FDD;&#x5B58;&#x4FEE;&#x6539;
service&#xA0;iptables&#xA0;restart&#xA0;&#xA0;&#xA0;&#xA0;&#x91CD;&#x542F;&#x9632;&#x706B;&#x5899;&#xFF0C;&#x4FEE;&#x6539;&#x751F;&#x6548;</pre>
        
      
    </div>

    

    

  </article>

      
        
  <article class="post">
    <header class="post-header">
      <h1 class="post-title">
        
          <a class="post-link" href="/2018/12/28/安装tor，免费获得.onion域名/">安装tor，免费获得.onion域名</a>
        
      </h1>

      <div class="post-meta">
        <span class="post-time">
          2018-12-28
        </span>
        
        
      </div>
    </header>

    
    


    <div class="post-content">
      
        
        

        
          <p>&#x5148;&#x8BF4;&#x597D;&#xFF0C;&#x522B;&#x95EE;&#x6211;&#x8FD9;&#x57DF;&#x540D;&#x600E;&#x4E48;&#x6CA1;&#x6CE8;&#x518C;&#x5546;&#xFF0C;&#x540E;&#x7F00;&#x600E;&#x4E48;&#x8FD9;&#x4E48;&#x5947;&#x602A;&#xFF0C;&#x600E;&#x4E48;&#x5F04;&#x597D;&#x4E86;&#x4E0D;&#x80FD;&#x8BBF;&#x95EE;&#xFF0C;&#x5148;&#x67E5;&#x67E5;&#x518D;&#x8BF4;&#x8BDD;</p>
<pre class="brush:bash;toolbar:false">yum&#xA0;install&#xA0;tor&#xA0;-y
apt-get&#xA0;install&#xA0;tor&#xA0;-y</pre>

<p>&#x7136;&#x540E;&#x5199;&#x5165;&#x914D;&#x7F6E;&#x6587;&#x4EF6;</p>
<pre class="brush:bash;toolbar:false">echo&#xA0;&quot;HiddenServiceDir&#xA0;/var/lib/tor/hidden_service/&quot;&#xA0;&gt;&gt;&#xA0;/etc/tor/torrc
echo&#xA0;&quot;HiddenServicePort&#xA0;80&#xA0;127.0.0.1:8080&quot;&#xA0;&gt;&gt;&#xA0;/etc/tor/torrc</pre>

<p>&#x91CD;&#x542F;tor</p>
<pre class="brush:bash;toolbar:false">service&#xA0;tor&#xA0;restart</pre>

<p>&#x83B7;&#x53D6;&#x57DF;&#x540D;</p>
<pre class="brush:bash;toolbar:false">cat&#xA0;&#xA0;/var/lib/tor/hidden_service/hostname</pre>

<p>8080&#x662F;&#x6E90;&#x670D;&#x52A1;&#x7AEF;&#x53E3;&#xFF0C;&#x4F8B;&#x5982;&#x6211;&#x8981;&#x8F6C;&#x53D1;&#x67D0;&#x7F51;&#x7AD9;80&#xFF0C;HiddenServicePort 80 2.3.3.3:80</p>
<p>&#x4E00;&#x4E2A;&#x5751;&#xFF1A;tor&#x5E76;&#x6CA1;&#x6709;&#x76D1;&#x542C;80&#x7AEF;&#x53E3;&#xFF0C;&#x4F46;&#x9AD8;&#x4F4D;&#x7AEF;&#x53E3;&#x5FC5;&#x987B;&#x5F00;&#x542F;</p>
<p>&#x539F;&#x5E16;:<a href="http://www.hostloc.com/thread-350210-1-1.html" target="_blank" rel="noopener">vps&#x5B89;&#x88C5;tor&#xFF0C;&#x83B7;&#x53D6;.onion&#x57DF;&#x540D;</a></p>
<p>&#x5EF6;&#x4F38;:<a href="http://it.taocms.org/03/7139.htm" target="_blank" rel="noopener">&#x5982;&#x4F55;&#x521B;&#x5EFA;&#x4E00;&#x4E2A; Tor .onion &#x7F51;&#x7AD9;[&#x66F4;&#x65B0;]</a></p>

        
      
    </div>

    

    

  </article>

      
        
  <article class="post">
    <header class="post-header">
      <h1 class="post-title">
        
          <a class="post-link" href="/2018/12/28/解决ssr InternalError1043/">解决ssr InternalError1043</a>
        
      </h1>

      <div class="post-meta">
        <span class="post-time">
          2018-12-28
        </span>
        
        
      </div>
    </header>

    
    


    <div class="post-content">
      
        
        

        
           <pre class="brush:bash;toolbar:false">[root@shadowsocksr]#&#xA0;python&#xA0;server.py
IPv6&#xA0;support
2018-05-13&#xA0;14:58:54&#xA0;INFO&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;util.py:85&#xA0;loading&#xA0;libcrypto&#xA0;from&#xA0;libcrypto.so.10
2018-05-13&#xA0;14:58:54&#xA0;INFO&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;asyncdns.py:324&#xA0;dns&#xA0;server:&#xA0;[(&apos;8.8.8.8&apos;,&#xA0;53),&#xA0;(&apos;8.8.4.4&apos;,&#xA0;53)]
2018-05-13&#xA0;14:58:54&#xA0;INFO&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;shell.py:72&#xA0;ShadowsocksR&#xA0;3.4.0&#xA0;2017-07-27
2018-05-13&#xA0;14:58:54&#xA0;INFO&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;db_transfer.py:238&#xA0;current&#xA0;process&#xA0;RLIMIT_NOFILE&#xA0;resource:&#xA0;soft&#xA0;1024&#xA0;hard&#xA0;4096
2018-05-13&#xA0;14:58:55&#xA0;ERROR&#xA0;&#xA0;&#xA0;&#xA0;db_transfer.py:266&#xA0;Traceback&#xA0;(most&#xA0;recent&#xA0;call&#xA0;last):
&#xA0;&#xA0;File&#xA0;&quot;/root/shadowsocksr/db_transfer.py&quot;,&#xA0;line&#xA0;248,&#xA0;in&#xA0;thread_db
&#xA0;&#xA0;&#xA0;&#xA0;rows&#xA0;=&#xA0;db_instance.pull_db_all_user()
&#xA0;&#xA0;File&#xA0;&quot;/root/shadowsocksr/db_transfer.py&quot;,&#xA0;line&#xA0;383,&#xA0;in&#xA0;pull_db_all_user
&#xA0;&#xA0;&#xA0;&#xA0;db=self.cfg[&quot;db&quot;],&#xA0;charset=&apos;utf8&apos;)
&#xA0;&#xA0;File&#xA0;&quot;/usr/lib/python2.6/site-packages/cymysql/__init__.py&quot;,&#xA0;line&#xA0;81,&#xA0;in&#xA0;Connect
&#xA0;&#xA0;&#xA0;&#xA0;return&#xA0;Connection(*args,&#xA0;**kwargs)
&#xA0;&#xA0;File&#xA0;&quot;/usr/lib/python2.6/site-packages/cymysql/connections.py&quot;,&#xA0;line&#xA0;237,&#xA0;in&#xA0;__init__
&#xA0;&#xA0;&#xA0;&#xA0;self._connect()
&#xA0;&#xA0;File&#xA0;&quot;/usr/lib/python2.6/site-packages/cymysql/connections.py&quot;,&#xA0;line&#xA0;403,&#xA0;in&#xA0;_connect
&#xA0;&#xA0;&#xA0;&#xA0;self._request_authentication()
&#xA0;&#xA0;File&#xA0;&quot;/usr/lib/python2.6/site-packages/cymysql/connections.py&quot;,&#xA0;line&#xA0;477,&#xA0;in&#xA0;_request_authentication
&#xA0;&#xA0;&#xA0;&#xA0;auth_packet&#xA0;=&#xA0;MysqlPacket(self)
&#xA0;&#xA0;File&#xA0;&quot;/usr/lib/python2.6/site-packages/cymysql/packet.py&quot;,&#xA0;line&#xA0;67,&#xA0;in&#xA0;__init__
&#xA0;&#xA0;&#xA0;&#xA0;raise_mysql_exception(self.__data)
&#xA0;&#xA0;File&#xA0;&quot;/usr/lib/python2.6/site-packages/cymysql/err.py&quot;,&#xA0;line&#xA0;142,&#xA0;in&#xA0;raise_mysql_exception
&#xA0;&#xA0;&#xA0;&#xA0;_check_mysql_exception(errinfo)
&#xA0;&#xA0;File&#xA0;&quot;/usr/lib/python2.6/site-packages/cymysql/err.py&quot;,&#xA0;line&#xA0;138,&#xA0;in&#xA0;_check_mysql_exception
&#xA0;&#xA0;&#xA0;&#xA0;raise&#xA0;InternalError(errno,&#xA0;errorvalue)
InternalError:&#xA0;(1043,&#xA0;u&apos;Bad&#xA0;handshake&apos;)</pre>

<p>&#x89E3;&#x51B3;&#xFF1A;</p>
<pre class="brush:bash;toolbar:false">wget&#xA0;https://pypi.python.org/packages/source/p/pip/pip-9.0.1.tar.gz&#xA0;--no-check-certificate
tar&#xA0;-xzvf&#xA0;pip-9.0.1.tar.gz
cd&#xA0;pip-9.0.1
python&#xA0;setup.py&#xA0;install
pip&#xA0;install&#xA0;cymysql==0.9.4</pre>

<p>&#x56E0;pip&#x7248;&#x672C;&#x592A;&#x9AD8; &#x65E0;&#x6CD5;&#x6307;&#x5B9A;&#x5B89;&#x88C5;&#x4F4E;&#x7248;&#x672C;cymysql&#xFF0C;&#x964D;&#x4F4E;pip&#x7248;&#x672C;&#x6307;&#x5B9A;&#x5B89;&#x88C5;&#x4F4E;&#x7248;&#x672C;cymysql&#x5C31;&#x884C;&#x4E86;</p>
<p>&#x9519;&#x8BEF;&#x5C31;&#x662F;pip&#x548C; cymysql&#x7248;&#x672C;&#x90FD;&#x592A;&#x9AD8;</p>

        
      
    </div>

    

    

  </article>

      
        
  <article class="post">
    <header class="post-header">
      <h1 class="post-title">
        
          <a class="post-link" href="/2018/12/28/解决酸酸乳WARNING tcprelay.py521 Protocol ERROR, TCP ogn data/"></a>
        
      </h1>

      <div class="post-meta">
        <span class="post-time">
          2018-12-28
        </span>
        
        
      </div>
    </header>

    
    


    <div class="post-content">
      
        
        

        
          <p>title: <pre class="brush:bash;toolbar:false">2018-04-22&#xA0;08:52:39&#xA0;WARNING&#xA0;&#xA0;tcprelay.py:521&#xA0;Protocol&#xA0;ERROR,&#xA0;TCP&#xA0;ogn&#xA0;data&#xA0;16030101440100014003035adbcec1b09980666fba8560de72f0ada1d0e2c0db71ecf7786e25c2bf1f0003202a5147c15fdd6ce60fb73aaaf0b0eecc44cc2285186aba2171b3cbb5c251db57001cc02bc02fcca9cca8cc14cc13c00ac014c009c013009c0035002f000a010000dbff01000100000000050003000000001700000023008a76792a16e523145b633e01123e5d194db9c9e98735db52da6067edab292a86d46a75465c929309d361a08658f270dacea885a48c1dff8ff49aa782c2292883201ff2e4e0c9dfa0a6759e06454f3a4cd33cfaa61c7eb2f18e9113187afdff9c7994919ca49ffc9f5f1686cabfa40c999a80df17cc7660d510731d5434062683b903c71b162e208fee86db000d0016001406010603050105030401040303010303020102030005000501000000000012000075500000000b00020100000a0006000400170018&#xA0;from&#xA0;::ffff:113.121.135.172:16771&#xA0;via&#xA0;port&#xA0;6043&#xA0;by&#xA0;UID&#xA0;6043<br>2018-04-22&#xA0;08:52:39&#xA0;ERROR&#xA0;&#xA0;&#xA0;&#xA0;tcprelay.py:1097&#xA0;can&#xA0;not&#xA0;parse&#xA0;header&#xA0;when&#xA0;handling&#xA0;connection&#xA0;from&#xA0;::ffff:113.121.135.172:16771</pre></p>
<p>&#x89E3;&#x51B3;&#x65B9;&#x6CD5;&#xFF1A;</p>
<pre class="brush:bash;toolbar:false">service&#xA0;ntpdate&#xA0;start&#xA0;&#xA0;//&#x5F00;&#x542F;&#x7F51;&#x7EDC;&#x65F6;&#x95F4;&#x540C;&#x6B65;</pre>

<p>&#x5E94;&#x8BE5;&#x662F;&#x670D;&#x52A1;&#x5668;&#x7684;&#x7CFB;&#x7EDF;&#x65F6;&#x95F4;&#x51FA;&#x73B0;&#x9519;&#x8BEF;</p>

        
      
    </div>

    

    

  </article>

      
      
  <nav class="pagination">
    
    
      <a class="next" href="/page/2/">
        <span class="next-text">下一页</span>
        <i class="iconfont icon-right"></i>
      </a>
    
  </nav>


    
  </section>

          </div>
          

        </div>
      </main>

      <footer id="footer" class="footer">

  <div class="social-links">
   
  </div>



<div class="copyright">
  <span class="power-by">
驱动&托管&设计 - Hexo Github Even
  </span>

  <span class="copyright-year">

    &copy; 
   2006
</span></div>

      </footer>

      <div class="back-to-top" id="back-to-top">
        <i class="iconfont icon-up"></i>
      </div>
    </div>

    


    
  



  
  





  
    <script type="text/javascript" src="/lib/jquery/jquery.min.js"></script>
  

  
    <script type="text/javascript" src="/lib/slideout/slideout.js"></script>
  

  
    <script type="text/javascript" src="/lib/fancybox/jquery.fancybox.pack.js"></script>
  

  
    <script type="text/javascript" src="/lib/pjax/jquery.pjax.min.js"></script>
  

  
    <script type="text/javascript" src="/lib/nprogress/nprogress.min.js"></script>
  


    <script type="text/javascript" src="/js/src/even.js?v=2.10.1"></script>

  </body>
</html>
